<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Event Updates · SeeSign.jl</title><meta name="title" content="Event Updates · SeeSign.jl"/><meta property="og:title" content="Event Updates · SeeSign.jl"/><meta property="twitter:title" content="Event Updates · SeeSign.jl"/><meta name="description" content="Documentation for SeeSign.jl."/><meta property="og:description" content="Documentation for SeeSign.jl."/><meta property="twitter:description" content="Documentation for SeeSign.jl."/><meta property="og:url" content="https://adolgert.github.io/SeeSign.jl/event_update/"/><meta property="twitter:url" content="https://adolgert.github.io/SeeSign.jl/event_update/"/><link rel="canonical" href="https://adolgert.github.io/SeeSign.jl/event_update/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">SeeSign.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../getting_started/">Getting Started</a></li></ul></li><li><span class="tocitem">Development</span><ul><li><a class="tocitem" href="../plan/">Plan</a></li><li class="is-active"><a class="tocitem" href>Event Updates</a></li></ul></li><li><a class="tocitem" href="../reference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Development</a></li><li class="is-active"><a href>Event Updates</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Event Updates</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/adolgert/SeeSign.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/adolgert/SeeSign.jl/blob/main/docs/src/event_update.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="How-Event-States-are-Updated"><a class="docs-heading-anchor" href="#How-Event-States-are-Updated">How Event States are Updated</a><a id="How-Event-States-are-Updated-1"></a><a class="docs-heading-anchor-permalink" href="#How-Event-States-are-Updated" title="Permalink"></a></h1><p>The main loop of the framework for simulation will fire an event, look at changed places, and then update the events in the system. This turns is complicated, so let&#39;s discuss it here.</p><p>An event has</p><ul><li>A key which identifies its relationship to physical state.</li><li>A set of places upon which its precondition depends.</li><li>A set of places upon which its rate depends.</li><li>A rate (distribution in time) that is set in the Sampler by the enable() function.</li></ul><p>The same event key, when applied to a different physical state, may depend on different sets of places. This is not true for a traditional GSPN or GSMP, but it&#39;s how we think about events. For instance, a Move(agent<em>idx, right</em>direction) will depend on space to the right of the agent, but which space must be empty changes as the agent moves.</p><p>A simulation has:</p><ul><li>A set of enabled events.</li><li>The event that just fired.</li><li>A set of states that were modified when the event fired.</li></ul><p>The goal of the main loop of the simulation, once it has fired the event is to modify:</p><ul><li>The set of enabled events, by disabling those with failed preconditions or enabling those generated.</li><li>The set of places upon which precondition or rates depends for affected events.</li><li>The rate of events for which their place dependencies changed in value or for which the set of places has changed.</li></ul><p>Before and after this update, what can the states of an event be?</p><ul><li>Disabled -&gt; enabled and enabled -&gt; disabled.</li><li>Sets of places can change.</li><li>Maybe just the rate is called again.</li></ul><p>The notion of re-enabling is a little tough. I will define that any time an event with the same clock key is enabled before and after firing, and the rate-depending places have changed, it is re-enabled. That&#39;s a firm definition. Rate-depending places can be a different set of places or they can have been written to. Either way.</p><p>What sets of events do we have?</p><ul><li>The set of all events that depend on ANY changed places.</li><li>The set of those events whose preconditions still hold.</li><li>The set of those whose preconditions hold but they depend on different places.</li><li>The set of those whose rates depend on ANY changed places.</li></ul><p>Let&#39;s process the data this way, not an event at a time but a set of events at a time.</p><p>A question: When rules generate new events, they don&#39;t need to create existing events. If we just discovered an event is disabled, that too can be excluded. My question is whether the set of all generated events intersected with the set of enabled events is contained in the set of affected events.</p><p>(generated events) ∩ (enabled events) ⊆ (affected event preconditions)</p><p>The practical answer is that there aren&#39;t restrictions on event generation. The generator functions could generate lots of extra events, so there is no guarantee that those related to the recent modified places are all we will see.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../plan/">« Plan</a><a class="docs-footer-nextpage" href="../reference/">Reference »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.13.0 on <span class="colophon-date" title="Friday 20 June 2025 19:09">Friday 20 June 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
